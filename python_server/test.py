data_acc = [{'avg_acc_x': -0.0076335879999999984, 'avg_acc_y': -0.0076335879999999984, 'avg_acc_z': -0.0076335879999999984, 'label': 'Walking'}, 
        {'avg_acc_x': -0.0076335879999999984, 'avg_acc_y': -0.0076335879999999984, 'avg_acc_z': -0.0076335879999999984, 'label': 'Walking'}, 
        {'avg_acc_x': -0.0076335879999999984, 'avg_acc_y': -0.0076335879999999984, 'avg_acc_z': -0.0076335879999999984, 'label': 'Walking'}, 
        {'avg_acc_x': -0.0076335879999999984, 'avg_acc_y': -0.0076335879999999984, 'avg_acc_z': -0.0076335879999999984, 'label': 'Walking'}, 
        {'avg_acc_x': -0.0076335879999999984, 'avg_acc_y': -0.0076335879999999984, 'avg_acc_z': -0.0076335879999999984, 'label': 'Walking'}, 
        {'avg_acc_x': -0.0076335879999999984, 'avg_acc_y': -0.0076335879999999984, 'avg_acc_z': -0.0076335879999999984, 'label': 'Walking'},
        {'avg_acc_x': -0.0076335879999999984, 'avg_acc_y': -0.0076335879999999984, 'avg_acc_z': -0.0076335879999999984, 'label': 'Walking'},
        {'avg_acc_x': -0.0076335879999999984, 'avg_acc_y': -0.0076335879999999984, 'avg_acc_z': -0.0076335879999999984, 'label': 'Walking'},
        {'avg_acc_x': -0.0076335879999999984, 'avg_acc_y': -0.0076335879999999984, 'avg_acc_z': -0.0076335879999999984, 'label': 'Walking'},
        {'avg_acc_x': -0.0076335879999999984, 'avg_acc_y': -0.0076335879999999984, 'avg_acc_z': -0.0076335879999999984, 'label': 'Walking'},
        {'avg_acc_x': -0.0076335879999999984, 'avg_acc_y': -0.0076335879999999984, 'avg_acc_z': -0.0076335879999999984, 'label': 'Walking'},
        {'avg_acc_x': -0.0076335879999999984, 'avg_acc_y': -0.0076335879999999984, 'avg_acc_z': -0.0076335879999999984, 'label': 'Walking'},
        {'avg_acc_x': -0.0076335879999999984, 'avg_acc_y': -0.0076335879999999984, 'avg_acc_z': -0.0076335879999999984, 'label': 'Walking'},
        {'avg_acc_x': -0.0076335879999999984, 'avg_acc_y': -0.0076335879999999984, 'avg_acc_z': -0.0076335879999999984, 'label': 'Walking'},
        {'avg_acc_x': -0.0076335879999999984, 'avg_acc_y': -0.0076335879999999984, 'avg_acc_z': -0.0076335879999999984, 'label': 'Walking'},
        {'avg_acc_x': -0.0076335879999999984, 'avg_acc_y': -0.0076335879999999984, 'avg_acc_z': -0.0076335879999999984, 'label': 'Walking'},
        {'avg_acc_x': -0.0076335879999999984, 'avg_acc_y': -0.0076335879999999984, 'avg_acc_z': -0.0076335879999999984, 'label': 'Walking'},
        {'avg_acc_x': -0.0076335879999999984, 'avg_acc_y': -0.0076335879999999984, 'avg_acc_z': -0.0076335879999999984, 'label': 'Walking'},
        {'avg_acc_x': -0.0076335879999999984, 'avg_acc_y': -0.0076335879999999984, 'avg_acc_z': -0.0076335879999999984, 'label': 'Walking'},
        {'avg_acc_x': -0.0076335879999999984, 'avg_acc_y': -0.0076335879999999984, 'avg_acc_z': -0.0076335879999999984, 'label': 'Walking'},
        {'avg_acc_x': -0.0076335879999999984, 'avg_acc_y': -0.0076335879999999984, 'avg_acc_z': -0.0076335879999999984, 'label': 'Walking'},
        {'avg_acc_x': -0.0076335879999999984, 'avg_acc_y': -0.0076335879999999984, 'avg_acc_z': -0.0076335879999999984, 'label': 'Walking'},
        {'avg_acc_x': -0.0076335879999999984, 'avg_acc_y': -0.0076335879999999984, 'avg_acc_z': -0.0076335879999999984, 'label': 'Walking'}, 
        {'avg_acc_x': -0.0076335879999999984, 'avg_acc_y': -0.0076335879999999984, 'avg_acc_z': -0.0076335879999999984, 'label': 'Walking'}]

data_gyro= [{'avg_gyro_x': 0.0, 'avg_gyro_y': 0.0, 'avg_gyro_z': 0.0, 'label': 'Walking'}, 
        {'avg_gyro_x': 0.0, 'avg_gyro_y': 0.0, 'avg_gyro_z': 0.0, 'label': 'Walking'}, 
        {'avg_gyro_x': 0.0, 'avg_gyro_y': 0.0, 'avg_gyro_z': 0.0, 'label': 'Walking'}, 
        {'avg_gyro_x': 0.0, 'avg_gyro_y': 0.0, 'avg_gyro_z': 0.0, 'label': 'Walking'}, 
        {'avg_gyro_x': 0.0, 'avg_gyro_y': 0.0, 'avg_gyro_z': 0.0, 'label': 'Walking'}, 
        {'avg_gyro_x': 0.0, 'avg_gyro_y': 0.0, 'avg_gyro_z': 0.0, 'label': 'Walking'}, 
        {'avg_gyro_x': 0.0, 'avg_gyro_y': 0.0, 'avg_gyro_z': 0.0, 'label': 'Walking'},
        {'avg_gyro_x': 0.0, 'avg_gyro_y': 0.0, 'avg_gyro_z': 0.0, 'label': 'Walking'},
        {'avg_gyro_x': 0.0, 'avg_gyro_y': 0.0, 'avg_gyro_z': 0.0, 'label': 'Walking'},
        {'avg_gyro_x': 0.0, 'avg_gyro_y': 0.0, 'avg_gyro_z': 0.0, 'label': 'Walking'},
        {'avg_gyro_x': 0.0, 'avg_gyro_y': 0.0, 'avg_gyro_z': 0.0, 'label': 'Walking'},
        {'avg_gyro_x': 0.0, 'avg_gyro_y': 0.0, 'avg_gyro_z': 0.0, 'label': 'Walking'},
        {'avg_gyro_x': 0.0, 'avg_gyro_y': 0.0, 'avg_gyro_z': 0.0, 'label': 'Walking'},
        {'avg_gyro_x': 0.0, 'avg_gyro_y': 0.0, 'avg_gyro_z': 0.0, 'label': 'Walking'},
        {'avg_gyro_x': 0.0, 'avg_gyro_y': 0.0, 'avg_gyro_z': 0.0, 'label': 'Walking'},
        {'avg_gyro_x': 0.0, 'avg_gyro_y': 0.0, 'avg_gyro_z': 0.0, 'label': 'Walking'},
        {'avg_gyro_x': 0.0, 'avg_gyro_y': 0.0, 'avg_gyro_z': 0.0, 'label': 'Walking'},
        {'avg_gyro_x': 0.0, 'avg_gyro_y': 0.0, 'avg_gyro_z': 0.0, 'label': 'Walking'},
        {'avg_gyro_x': 0.0, 'avg_gyro_y': 0.0, 'avg_gyro_z': 0.0, 'label': 'Walking'},
        {'avg_gyro_x': 0.0, 'avg_gyro_y': 0.0, 'avg_gyro_z': 0.0, 'label': 'Walking'},
        {'avg_gyro_x': 0.0, 'avg_gyro_y': 0.0, 'avg_gyro_z': 0.0, 'label': 'Walking'},
        {'avg_gyro_x': 0.0, 'avg_gyro_y': 0.0, 'avg_gyro_z': 0.0, 'label': 'Walking'},
        {'avg_gyro_x': 0.0, 'avg_gyro_y': 0.0, 'avg_gyro_z': 0.0, 'label': 'Walking'},
        {'avg_gyro_x': 0.0, 'avg_gyro_y': 0.0, 'avg_gyro_z': 0.0, 'label': 'Walking'},
        {'avg_gyro_x': 0.0, 'avg_gyro_y': 0.0, 'avg_gyro_z': 0.0, 'label': 'Walking'},
        {'avg_gyro_x': 0.0, 'avg_gyro_y': 0.0, 'avg_gyro_z': 0.0, 'label': 'Walking'},
        {'avg_gyro_x': 0.0, 'avg_gyro_y': 0.0, 'avg_gyro_z': 0.0, 'label': 'Walking'},
        {'avg_gyro_x': 0.0, 'avg_gyro_y': 0.0, 'avg_gyro_z': 0.0, 'label': 'Walking'},
        {'avg_gyro_x': 0.0, 'avg_gyro_y': 0.0, 'avg_gyro_z': 0.0, 'label': 'Walking'}]



# pop the label from the dictionary
for dict in data_acc:
    label = dict.pop('label')

# make sure the data length is 

renamed_data_acc = []
index = 0
for item in data_acc:
    renamed_item = {}
    index += 1
    if index > 10:
        index = 1
    for key, value in item.items():
        new_key = f'{key}_{index}'  # Add the index to the key name
        renamed_item[new_key] = value
    renamed_data_acc.append(renamed_item)

# print(renamed_data_acc)

merged_data = []
batch_size = 10
for i in range(0, len(renamed_data_acc), batch_size):
    batch = renamed_data_acc[i:i+batch_size]
    merged_dict = {}
    for item in batch:
        merged_dict.update(item)
    merged_data.append(merged_dict)

print(merged_data)
print(len(merged_data))

# Extract the keys from the first item to use as fieldnames in the CSV

data = []

for entry in zip(data_acc, data_gyro):
    data.append(dict(entry[0], **entry[1]))

# print(data)

# print(fieldnames)
